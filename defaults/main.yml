---
# Used for RHEL/CentOS/Fedora only. Allows the use of different repos.
redis_enablerepo: epel

# Type of config setup - redis-server or redis-sentinel
redis_type: redis-server

# Allow for updating package
redis_package_state: present

redis_port: 6379
redis_bind_interface: 127.0.0.1
redis_unixsocket: ''
redis_timeout: 300
redis_daemonize: True
redis_pidfile: "/var/run/redis/{{ redis_daemon }}.pid"

redis_loglevel: "notice"
redis_logfile: "/var/log/redis/{{ redis_daemon }}.log"

# This should match /proc/sys/net/core/somaxconn
redis_tcp_backlog: 511

redis_databases: 16

# Set to an empty set to disable persistence (saving the DB to disk).
redis_save:
  - 900 1
  - 300 10
  - 60 10000

redis_rdbcompression: "yes"
redis_dbfilename: dump.rdb
redis_dbdir: /var/lib/redis

redis_maxmemory: 0
redis_maxmemory_policy: "noeviction"
redis_maxmemory_samples: 5

redis_appendonly: "no"
redis_appendfsync: "everysec"

# Add extra include files for local configuration/overrides.
redis_includes: []

# Require authentication to Redis with a password.
redis_requirepass: ""

# Disable certain Redis commands for security reasons.
redis_disabled_commands: []
#  - FLUSHDB
#  - FLUSHALL
#  - KEYS
#  - PEXPIRE
#  - DEL
#  - CONFIG
#  - SHUTDOWN
#  - BGREWRITEAOF
#  - BGSAVE
#  - SAVE
#  - SPOP
#  - SREM
#  - RENAME
#  - DEBUG

redis_cluster: False

# Allow for adding a Redis slave within the config
redis_slaveof: ''

# Redis Service settings
redis_daemon: redis
redis_svc_user: redis
redis_svc_group: redis

# Best Practices - 
vm_overcommit_mem: True
somaxconn_match: True
disable_transparent_hugepage: True
redis_maxclients: 10000
redis_ulimit: 10000

# Redis Sentinel
redis_sentinel_enable: False

redis_sentinel:
  - master:
    - { name: master1, ip: , port: 6379, quorum: 2}
    - params:
      - { key: , value: }
